function expandAllAnswers(){$(".LookSelectorTool__step").each(function(){fullHeight=0,$(this).children().each(function(){fullHeight+=$(this).outerHeight(!0)}),fullHeight+=70,$(this).css("max-height",fullHeight)}),$(".LookSelectorTool__step").addClass("expandedStep")}function collapseAllAnswers(){$(".LookSelectorTool__step").each(function(){var e=$(this).children("h2").outerHeight(!0)+70;$(this).css("max-height",e)}),$(".LookSelectorTool__step:nth-child(1n+2)").removeClass("expandedStep")}$(document).ready(function(){"use strict";var i,o,t=$(window).width(),k=[];function e(){var t=$(".LookSelectorTool__selectorVector, .LookSelectorTool__selectorRaster, .LookSelectorTool__selectorText").length;$(".LookSelectorTool__selectorVector, .LookSelectorTool__selectorRaster, .LookSelectorTool__selectorText").each(function(e){var o;$(this).css("height",Math.round($(this).width())),$(this).children("img").css("height",Math.round($(this).width())),e==t-1&&(o=$(".LookSelectorTool__step:first .LookSelectorTool__stepHeading"),i=$(o).outerHeight(!0)+$(o).nextAll().outerHeight(!0)+70,$(o).parent().addClass("activeStep").css("max-height",i))})}function r(o){if(!o.hasClass("selected")||o.hasClass("LookSelectorTool__tapToSkip")){var e=o.find("input").attr("id");if(null!=e&&-1<e.indexOf("-"))var t=e.split("-")[0].toUpperCase(),l=t+"_Product Filter";var r={Q1:"event30,event42",Q2:"event31,event43",Q3:"event32,event44",Q4:"event33,event45",Q5:"event34,event46",Q6_SKIP:"event35,event40,event47",Q6_NEXT:"event35,event41,event47",Q7:"event36,event48",Q8:"event37,event49",Q9:"event38,event50"};if($(o).parent().hasClass("LookSelectorTool__selectorWrap6")||$(o).parent().parent().hasClass("LookSelectorTool__selectorWrap6")){if(o.hasClass("LookSelectorTool__tapToSkip"))return 0===o.parent().parent().children(".selected").length||(o.removeClass("LookSelectorTool__tapToSkipVisible"),setTimeout(function(){o.parent().parent().parent().removeClass("activeStep").addClass("expandedStep");var e=o.parent().parent().parent().next();$(e).children().each(function(){i+=$(this).outerHeight(!0)}),$(e).addClass("activeStep").css("max-height",i),setTimeout(function(){$("body").scrollTo(e,{duration:300,offset:-50})},100)},200),s.linkTrackVars="events",s.linkTrackEvents=r.Q6_SKIP,s.events=r.Q6_SKIP,s.tl(this,"o","Q6_Product Filter")),!1;if(0===o.parent().children(".selected").length){s.linkTrackVars="events",s.linkTrackEvents=r.Q6_SKIP,s.events=r.Q6_SKIP,s.tl(this,"o",l),o.addClass("selected"),o.parent().parent().parent().removeClass("activeStep").addClass("expandedStep");var n=o.parent().parent().parent().next();return $(n).children().each(function(){i+=$(this).outerHeight(!0)}),$(n).addClass("activeStep").css("max-height",i),!1}if(1!=o.parent().children(".selected").length)return setTimeout(function(){o.children().prop("checked",!1)},100),!1;s.linkTrackVars="events",s.linkTrackEvents=r.Q6_NEXT,s.events=r.Q6_NEXT,s.tl(this,"o",l),o.addClass("selected"),$(".LookSelectorTool__tapToSkip").removeClass("LookSelectorTool__tapToSkipVisible")}else o.addClass("selected"),o.siblings(".LookSelectorTool__selector").removeClass("selected").children("input").prop("checked",!1),s.linkTrackVars="events",s.linkTrackEvents=r[t],s.events=r[t],s.tl(this,"o",l);setTimeout(function(){o.parent().parent().removeClass("activeStep").addClass("expandedStep");var e=o.parent().parent().next();($(e).children().each(function(){i+=$(this).outerHeight(!0)}),$(e).addClass("activeStep").css("max-height",i),e.children().hasClass("LookSelectorTool__selectorWrap6"))&&a($(".LookSelectorTool__selectorWrap6").offset().top,$(".LookSelectorTool__selectorWrap6").offset().top+$(".LookSelectorTool__selectorWrap6").height());setTimeout(function(){$("body").scrollTo(e,{duration:300,offset:-50})},100)},200)}else o.removeClass("selected")}function a(e,o){$(".LookSelectorTool__selectorWrap6").scrollspy("destroy"),$(".LookSelectorTool__selectorWrap6").scrollspy({min:e,max:o-100,onEnter:function(e,o){$(".LookSelectorTool__selectorWrap6").parent().hasClass("activeStep")&&$(".LookSelectorTool__selectorWrap6").removeClass(".LookSelectorTool__tapToSkipPast")},onLeaveBottom:function(e,o){$(".LookSelectorTool__selectorWrap6").parent().hasClass("activeStep")&&($(".LookSelectorTool__selectorWrap6").addClass(".LookSelectorTool__tapToSkipPast"),r($(".LookSelectorTool__tapToSkip")))}})}function l(){$.rand=function(e){return $.isArray(e)?e[$.rand(e.length)]:"number"==typeof e?Math.floor(Math.random()*e):void 0},Array.prototype.remove=function(e){for(var o=e,t=[],l=0;l<o.length;l++)for(var s=o[l],r=this.indexOf(s);-1<r;)t.push(r),r=this.indexOf(s,r+1);t.sort();for(l=0;l<t.length;l++){r=t[l]-l;this.splice(r,1)}};var r=[],n=[];k=[];var e=$(".selected");$.each(e,function(e,o){var t=$(this).attr("for").split("-");r.push(t[0]);var l=$(this).attr("data-selected");console.log("\n"+l),n.push(l);var s=t[0];k[s]=s in k?k[s]+","+l:l,console.log(k)}),r,n;var o={"Casual chic":"Natural Beauty","Classic prep":"Modern Prep","Glam sophisticate":"Style Sophisticate","With an edge":"Edgy Maven","Bohemian chic":"Laid-Back Bohemian","On top of the trends":"Bold Bombshell",trendy:"Bold Bombshell"}[k.q9];console.log("Style : "+o);var i=0,a="";$(".LookSelectorTool__selector.selected").each(function(e,o){var t=$(this).find("input").attr("id").split("-")[0].replace("q",""),l=$(this).find("span > div > p > span").text().trim();if(6==t)a=1==++i?a+t+l:a+"-"+l+":";else{var s=a.length;a=":"==a.substring(s-1,s)?a+t+l+":":a+":"+t+l+":"}});var t=a.length,l=a.substring(1,t-1);s.linkTrackVars="prop16,eVar16,events",s.linkTrackEvents="event39",s.prop16=l,s.eVar16="D=c16",s.events="event39",s.tl(this,"o","Submit_Product Filter");var c=k.q1,h=k.q2,d=k.q4,p=k.q9,_=redirectLookResultPage[c][h][d][p],v=window.location.href.lastIndexOf(".html");if(_=-1<v?window.location.href.substring(0,v)+"/"+_+".html":window.location.href.replace(".html","")+"/"+_+".html","www.johnfrieda.com"==window.location.hostname&&-1==v){v=window.location.href.length,"/"==window.location.href.slice(-1)&&(v-=1);var u=redirectLookResultPage[c][h][d][p];_=window.location.href.substring(0,v)+"/"+u+".html"}window.location=_}window.kaoAPI.isAuthorring||$("#divYourLookError").addClass("message-errors-hidden"),$(document).ready(function(){var l;$(function(){FastClick.attach(document.body)}),l=0,$(".LookSelectorTool__getYourMatch").on("click",function(e){e.preventDefault(),l++;var o=$(".LookSelectorTool__selectorVector.selected, .LookSelectorTool__selectorRaster.selected, .LookSelectorTool__selectorRasterTall.selected, .LookSelectorTool__selectorText.selected").length,t=$(".LookSelectorTool__selectorWrap6").find(".selected").length;2==t&&(o-=t=1),o<=8&&1==l?$(".LookSelectorTool__errors").addClass("message-errors-visible").append("<span>Please complete all questions above to get your Style Match</span>"):9==o&&($(".LookSelectorTool__errors").removeClass("message-errors-visible"),$(".LookSelectorTool__errors span").remove())});$(".LookSelectorTool__toolWrap .LookSelectorTool__step:not(:first)").each(function(){var e=$(this).children("h2").outerHeight()+70;$(this).css("max-height",e)}),$(".LookSelectorTool__step:not(:last-of-type)").on("click",".LookSelectorTool__selector",function(e){e.preventDefault(),r($(this))}),$(".LookSelectorTool__step:last-of-type").on("click",".LookSelectorTool__selector",function(e){e.preventDefault(),function(e){e.siblings(".LookSelectorTool__selector.selected").removeClass("selected"),e.addClass("selected");var o=e.find("input").attr("id");if(null!=o&&-1<o.indexOf("-"))var t=o.split("-")[0].toUpperCase(),l=t+"_Product Filter";var r={Q1:"event30,event42",Q2:"event31,event43",Q3:"event32,event44",Q4:"event33,event45",Q5:"event34,event46",Q6_SKIP:"event35,event40,event47",Q6_NEXT:"event35,event41,event47",Q7:"event36,event48",Q8:"event37,event49",Q9:"event38,event50"};s.linkTrackVars="events",s.linkTrackEvents=r[t],s.events=r[t],s.tl(this,"o",l),setTimeout(function(){e.parent().parent().removeClass("activeStep"),setTimeout(function(){$("body").scrollTo(".LookSelectorTool__submit",{duration:300,offset:-100})},200)},1e3)}($(this))}),$(".LookSelectorTool__step:not(:last-of-type)").on("click",".LookSelectorTool__tapToSkip",function(e){e.preventDefault(),r($(this))})}),$(window).on("load",function(){window.kaoAPI.isAuthorring&&($(".LookSelectorTool__step").addClass("js-LookSelectorTool__step"),$(".LookSelectorTool__step").css({"max-height":"4000px"}),$(".LookSelectorTool__step:nth-child(5)>div").css({height:"400px"}),$(".LookSelectorTool__step:nth-child(7)>div").css({height:"1000px"}),$(".LookSelectorTool__step:nth-child(5)>div>label, .LookSelectorTool__step:nth-child(7)>div>label, .LookSelectorTool__step:nth-child(9)>div>label").addClass("js-LookSelectorTool__selectorRaster")),e(),window.kaoAPI.isAuthorring&&($(".LookSelectorTool__step:nth-child(5)>div>label, .LookSelectorTool__step:nth-child(7)>div>label").each(function(e){$(this).css("height","1000px")}),$(".LookSelectorTool__step:nth-child(5)>div>label:nth-child(1)").find("span").css("height","900px"))}),$(window).on("resize",function(e){clearTimeout(o),o=setTimeout(function(){$(window).width()!==t&&(t=$(window).width(),$(".LookSelectorTool__selectorText, .LookSelectorTool__selectorVector").each(function(){$(this).css("height",Math.round($(this).width()))}),$(".LookSelectorTool__selectorRaster").each(function(){$(this).css("height",Math.round($(this).width())),$(this).children("img").css("height",Math.round($(this).width()))}),$(".LookSelectorTool__step").each(function(){if($(this).hasClass("activeStep")||$(this).hasClass("expandedStep"))i=0,$(this).children().each(function(){i+=$(this).outerHeight(!0)}),i+=70,$(this).css("max-height",i);else{var e=$(this).children("h2").outerHeight(!0)+70;$(this).css("max-height",e)}}),$(".LookSelectorTool__selectorWrap6").length&&a($(".LookSelectorTool__selectorWrap6").offset().top,$(".LookSelectorTool__selectorWrap6").offset().top+$(".LookSelectorTool__selectorWrap6").height()))},250)}),$("#yourLookSubmitButton").click(function(e){var o,t;(o=$(".LookSelectorTool__selectorWrap"),t=!1,$.each(o,function(e,o){0==$(this).find("label.selected").length&&(t=!0)}),t)?$("#divYourLookError").show():($("#divYourLookError").hide(),$.getJSON(lookResultsPagesJSONPath,function(e){e,l()}))}),window.kaoAPI.isAuthorring&&expandAllAnswers()});